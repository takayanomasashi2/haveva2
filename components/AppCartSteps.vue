<template>
  <section>
    <div class="shopping">
      <h2 :class="{ active: cartUIStatus === 'idle' && cartCount === 0 }">01</h2>
      <h4>買い物カゴに入れる</h4>
    </div>
    <div class="checkout">
      <h2 :class="{ active: cartUIStatus === 'idle' && cartCount > 0 }">02</h2>
      <h4>お会計</h4>
    </div>
    <div class="order">
      <h2 :class="{ active: cartUIStatus === 'success' }">03</h2>
      <h4>注文<br>確定</h4>
    </div>
  </section>
</template>

<script>
import { mapState } from "vuex";
import { mapGetters } from "vuex";

export default {
  computed: {
    ...mapState(["cartUIStatus"]),
    ...mapGetters(["cartCount"])
  }
};
</script>

<style lang="scss" scoped>
section {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: 1fr;
  grid-column-gap: 100px;
  grid-row-gap: 0px;
  text-align: center;
  width: 80%;
  margin: 20px auto 0;
  div {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
}

h2 {
  width: 80px;
  height: 80px;
  border-radius: 1000px;
  border: 1px solid #ccc;
  padding-top: 21px;
  color: #555;
  &.active {
    background: linear-gradient(90deg, #e41256 0%, #ffa337 51%, #e41256 100%);
    background-size: 200% auto;
    border: 1px solid #d96528;
    color: white;
  }
}

h4 {
  margin-top: 20px;
  color: #555;
}

@media screen and (max-width: 600px) {
  section {
    grid-column-gap: 30px !important;
  }
}
</style>